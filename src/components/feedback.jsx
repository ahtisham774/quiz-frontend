import { AnimatePresence, motion } from "framer-motion";
import { useState } from "react"
import { BASE_URL } from "../API";
import { useAuth } from "../context/useAuth";
import { useParams } from "react-router-dom";
import toast from "react-hot-toast";

const Feedback = () => {
    const [experience, setExperience] = useState("Good");
    const [hover, setHover] = useState(null);
    const [feedback, setFeedback] = useState("");
    const [done, setDone] = useState(false)
    const { user } = useAuth()
    const { id } = useParams()
    const rating = [{
        name: "Excellent",
        value: 5
    }
        ,
    {
        name: "Good",
        value: 4
    },
    {
        name: "Fair",
        value: 3
    },
    {
        name: "Poor",
        value: 2

    },
    {
        name: "Very Poor",
        value: 1
    }

    ]

    const primaryColor = "#E8E8E8";
    const secondaryColor = "#FABF35";

    const handleMouseEnter = (exp) => setHover(exp);
    const handleMouseLeave = () => setHover(null);

    const starStyles = (exp) => ({
        color: hover === exp || experience === exp ? secondaryColor : primaryColor,
        cursor: "pointer",
        transition: "color 0.2s",
    });

    const fill = (exp) => (hover === exp || experience === exp ? "#BB8300" : "#C6C6C6");


    const handleSubmit = (e) => {
        e.preventDefault()
        if (feedback.trim() === "" || experience.trim() === "") {
            alert("Please provide feedback")
            return
        }

        try {
            fetch(`${BASE_URL}/result/give-feedback`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ feedback: feedback, studentId: user?._id, quizId: id, satisfaction: experience, rating: rating.find(r => r.name === experience).value })
            })
                .then(res => res.json())
                .then(data => {
                    console.log(data)
                    toast.success(data.message)
                    setFeedback("");
                    setExperience("Good");
                }
                )
                .catch(err => console.error(err))

        }
        catch (err) {
            console.log(err)
        }
        setDone(true)

    }





    return (
        <>
            <div className="w-full h-full flex items-center justify-center">
                <div className="w-full md:max-w-7xl flex flex-col items-center justify-center gap-8 p-4 md:p-8">

                    <h1 className="text-[40px] font-semibold">Quiz Feedback </h1>
                    <div className="flex items-center justify-center w-full">
                        <div className="flex items-center gap-5">
                            <svg
                                onClick={() => setExperience("Excellent")}
                                onMouseEnter={() => handleMouseEnter("Excellent")}
                                onMouseLeave={handleMouseLeave}
                                style={starStyles("Excellent")}
                                width="45" height="45" viewBox="0 0 45 45" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M24.9995 7.26728L25.0002 7.26869L28.2241 13.7165C28.2246 13.7175 28.2251 13.7186 28.2256 13.7196C28.5131 14.3049 29.0097 14.8306 29.5478 15.2276C30.0873 15.6257 30.7364 15.9445 31.3777 16.0514L31.3781 16.0515L37.226 17.0231C38.9667 17.3132 39.784 18.0433 40.0109 18.7495C40.2374 19.4539 39.9995 20.5193 38.7458 21.7645L38.744 21.7663L34.1973 26.3129C33.7 26.8103 33.3489 27.4977 33.1518 28.186C32.9547 28.8747 32.8894 29.6424 33.0425 30.3256L33.0425 30.3256L33.0436 30.3306L34.3452 35.9584C34.8439 38.1226 34.4244 39.2392 33.8573 39.6526C33.2889 40.067 32.0928 40.1256 30.1775 38.9942L24.6967 35.7497C24.0578 35.3711 23.2614 35.2049 22.5062 35.2049C21.7504 35.2049 20.9523 35.3713 20.3072 35.7467L20.3072 35.7467L20.3023 35.7495L14.8206 38.9946L14.8199 38.995C12.9174 40.1241 11.7203 40.0632 11.1485 39.646C10.5773 39.2291 10.1556 38.1101 10.6534 35.959L10.6534 35.9589L11.9551 30.3306L11.9551 30.3306L11.9562 30.3256C12.1093 29.6424 12.044 28.8747 11.8468 28.186C11.6498 27.4977 11.2987 26.8103 10.8013 26.3129L6.25467 21.7663C5.00935 20.521 4.76954 19.4543 4.99505 18.7481C5.22034 18.0426 6.03275 17.3131 7.77264 17.0231L13.6206 16.0515L13.6232 16.051C14.2562 15.9435 14.9004 15.6239 15.4363 15.2266C15.9711 14.83 16.4674 14.3046 16.7548 13.7195L19.9795 7.27009C19.9796 7.26988 19.9797 7.26968 19.9798 7.26947C20.8055 5.62695 21.7605 5.05703 22.4971 5.05703C23.2323 5.05703 24.1829 5.62543 24.9995 7.26728Z" fill="currentColor" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                <path d="M18.6124 21.6174C19.3001 21.6174 19.8576 21.0599 19.8576 20.3722C19.8576 19.6844 19.3001 19.127 18.6124 19.127C17.9247 19.127 17.3672 19.6844 17.3672 20.3722C17.3672 21.0599 17.9247 21.6174 18.6124 21.6174Z" fill={fill("Excellent")} />
                                <path d="M26.5265 21.6174C27.2142 21.6174 27.7716 21.0599 27.7716 20.3722C27.7716 19.6844 27.2142 19.127 26.5265 19.127C25.8388 19.127 25.2812 19.6844 25.2812 20.3722C25.2812 21.0599 25.8388 21.6174 26.5265 21.6174Z" fill={fill("Excellent")} />
                                <path d="M17.9969 26.1115C17.6665 26.1204 17.4727 26.4379 17.4727 27.2934C17.4727 30.1346 21.6396 30.223 22.4495 30.2133C23.2252 30.224 27.4398 30.1501 27.4398 27.2936C27.4398 26.4645 27.2577 26.1406 26.9456 26.1134" fill={fill("Excellent")} />
                            </svg>
                            <svg width="45" height="45" viewBox="0 0 45 45" fill="none" onClick={() => setExperience("Good")}
                                onMouseEnter={() => handleMouseEnter("Good")}
                                onMouseLeave={handleMouseLeave}
                                style={starStyles("Good")}
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M24.9995 7.26728L25.0002 7.26869L28.2241 13.7165C28.2246 13.7175 28.2251 13.7184 28.2255 13.7194C28.513 14.3048 29.0097 14.8305 29.5478 15.2276C30.0873 15.6257 30.7364 15.9445 31.3777 16.0514L31.3781 16.0515L37.226 17.0231C38.9667 17.3132 39.784 18.0433 40.0109 18.7494C40.2374 19.4539 39.9995 20.5193 38.7458 21.7645L38.744 21.7663L34.1973 26.3129C33.7 26.8103 33.3489 27.4977 33.1518 28.186C32.9547 28.8747 32.8894 29.6424 33.0425 30.3256L33.0425 30.3256L33.0436 30.3306L34.3452 35.9584C34.8439 38.1226 34.4244 39.2392 33.8573 39.6526C33.2889 40.067 32.0928 40.1256 30.1775 38.9942L24.6967 35.7497C24.6966 35.7497 24.6965 35.7496 24.6964 35.7495C24.0575 35.371 23.2613 35.2049 22.5062 35.2049C21.7504 35.2049 20.9523 35.3713 20.3072 35.7467L20.3072 35.7467L20.3023 35.7495L14.8206 38.9945L14.8199 38.995C12.9174 40.1241 11.7203 40.0632 11.1485 39.646C10.5773 39.2291 10.1556 38.1101 10.6534 35.959L10.6534 35.9589L11.9551 30.3306L11.9551 30.3306L11.9562 30.3256C12.1093 29.6424 12.044 28.8747 11.8468 28.186C11.6498 27.4977 11.2987 26.8103 10.8013 26.3129L6.25467 21.7663C5.00935 20.521 4.76954 19.4543 4.99505 18.7481C5.22034 18.0426 6.03275 17.3131 7.77264 17.0231L13.6206 16.0515L13.6232 16.051C14.2562 15.9435 14.9004 15.6239 15.4363 15.2266C15.9711 14.83 16.4674 14.3046 16.7548 13.7195L19.9795 7.27009C19.9796 7.2699 19.9797 7.2697 19.9798 7.26951C20.8055 5.62696 21.7605 5.05703 22.4971 5.05703C23.2323 5.05703 24.1829 5.62543 24.9995 7.26728Z" fill="currentColor" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                <path d="M18.3194 21.6174C19.0071 21.6174 19.5646 21.0599 19.5646 20.3722C19.5646 19.6844 19.0071 19.127 18.3194 19.127C17.6317 19.127 17.0742 19.6844 17.0742 20.3722C17.0742 21.0599 17.6317 21.6174 18.3194 21.6174Z" fill={fill("Good")} />
                                <path d="M26.7745 21.6174C27.4622 21.6174 28.0197 21.0599 28.0197 20.3722C28.0197 19.6844 27.4622 19.127 26.7745 19.127C26.0868 19.127 25.5293 19.6844 25.5293 20.3722C25.5293 21.0599 26.0868 21.6174 26.7745 21.6174Z" fill={fill("Good")} />
                                <path d="M27.3653 26.8556C27.3599 26.8781 27.3586 26.8866 27.3563 26.8981L27.3505 26.9293L27.3397 26.9858C27.332 27.0224 27.3239 27.0561 27.3159 27.0907C27.2997 27.1582 27.2801 27.2238 27.2605 27.2888C27.2195 27.4161 27.1712 27.5409 27.116 27.6627C27.0053 27.9055 26.8697 28.1361 26.7113 28.3507C26.388 28.7822 25.9866 29.1491 25.5278 29.4324C25.3005 29.5712 25.0627 29.6923 24.8166 29.7943C24.5746 29.893 24.3256 29.9738 24.0718 30.036C23.5809 30.1555 23.0776 30.2158 22.5724 30.2159C22.0736 30.2211 21.5758 30.1698 21.0885 30.063L20.9021 30.0194C20.8401 30.0052 20.778 29.9848 20.7164 29.9677C20.6548 29.9506 20.5928 29.9335 20.5314 29.911L20.3475 29.8467C20.1008 29.7558 19.8617 29.6458 19.6323 29.5176C19.3997 29.3878 19.1787 29.2384 18.9717 29.0708C18.7645 28.901 18.5737 28.7122 18.4016 28.507C18.3586 28.4557 18.3184 28.4017 18.2775 28.3496C18.2365 28.2974 18.1983 28.2417 18.1612 28.1861C18.0869 28.0748 18.0187 27.9595 17.9568 27.8408C17.8941 27.7213 17.8389 27.5981 17.7914 27.4718C17.7689 27.4078 17.7453 27.3426 17.7253 27.2749C17.7154 27.2398 17.7057 27.2074 17.6963 27.1694L17.6826 27.1126L17.6751 27.0811C17.6722 27.0687 17.6709 27.0615 17.6639 27.0372C17.6038 26.8675 17.6136 26.6808 17.6912 26.5183C17.7688 26.3558 17.9077 26.2307 18.0775 26.1706C18.2472 26.1106 18.4339 26.1204 18.5964 26.1979C18.7589 26.2755 18.884 26.4144 18.9441 26.5842C18.9418 26.5725 18.9454 26.5775 18.9472 26.5777C18.949 26.5779 18.9522 26.5808 18.9549 26.5831C18.9576 26.5853 18.9663 26.5928 18.9731 26.5993L19.0118 26.6379C19.0394 26.6654 19.0671 26.6939 19.0965 26.7218C19.1538 26.7787 19.2161 26.8342 19.2782 26.8877C19.4022 26.994 19.5335 27.0917 19.671 27.18C19.8063 27.2675 19.9471 27.3464 20.0923 27.4163C20.2382 27.4848 20.3877 27.5454 20.5401 27.5977C20.6951 27.6509 20.8527 27.6959 21.0123 27.7326C21.0939 27.75 21.1742 27.7691 21.258 27.7823C21.2996 27.7895 21.3399 27.7985 21.3824 27.8048L21.5089 27.8232C21.8581 27.8701 22.2102 27.8921 22.5625 27.8891C22.9088 27.8898 23.2546 27.8634 23.5967 27.81C23.7592 27.7845 23.9203 27.7509 24.0794 27.7093C24.2357 27.6677 24.387 27.6171 24.536 27.5613C24.833 27.4448 25.1138 27.2908 25.3715 27.1029C25.5038 27.0052 25.6296 26.8991 25.7481 26.7852C25.807 26.727 25.8664 26.6676 25.9217 26.6067L25.963 26.5617L26.0026 26.5168L26.0399 26.4745C26.0467 26.4673 26.0521 26.4619 26.0575 26.4565C26.0596 26.4539 26.0622 26.4517 26.0651 26.45C26.0674 26.45 26.0705 26.4448 26.0689 26.4549C26.0953 26.3697 26.1381 26.2905 26.195 26.2219C26.2519 26.1532 26.3218 26.0964 26.4006 26.0548C26.4795 26.0131 26.5658 25.9874 26.6546 25.9791C26.7434 25.9708 26.8329 25.9801 26.9181 26.0064C27.0033 26.0327 27.0825 26.0755 27.1512 26.1324C27.2198 26.1894 27.2766 26.2592 27.3183 26.3381C27.3599 26.4169 27.3856 26.5032 27.3939 26.592C27.4022 26.6808 27.393 26.7704 27.3667 26.8556H27.3653Z" fill={fill("Good")} />
                            </svg>
                            <svg width="45" height="45" viewBox="0 0 45 45" fill="none" onClick={() => setExperience("Fair")}
                                onMouseEnter={() => handleMouseEnter("Fair")}
                                onMouseLeave={handleMouseLeave}
                                style={starStyles("Fair")} xmlns="http://www.w3.org/2000/svg">
                                <path d="M24.9995 7.26728L25.0002 7.26869L28.2241 13.7165C28.2246 13.7175 28.2251 13.7186 28.2256 13.7196C28.5131 14.3049 29.0097 14.8306 29.5478 15.2276C30.0873 15.6257 30.7364 15.9445 31.3777 16.0514L31.3781 16.0515L37.226 17.0231C38.9667 17.3132 39.784 18.0433 40.0109 18.7495C40.2374 19.4539 39.9995 20.5193 38.7458 21.7645L38.744 21.7663L34.1973 26.3129C33.7 26.8103 33.3489 27.4977 33.1518 28.186C32.9547 28.8747 32.8894 29.6424 33.0425 30.3256L33.0425 30.3256L33.0436 30.3306L34.3452 35.9584C34.8439 38.1226 34.4244 39.2392 33.8573 39.6526C33.2889 40.067 32.0928 40.1256 30.1775 38.9942L24.6967 35.7497C24.0578 35.3711 23.2614 35.2049 22.5062 35.2049C21.7504 35.2049 20.9523 35.3713 20.3072 35.7467L20.3072 35.7467L20.3023 35.7495L14.8206 38.9946L14.8199 38.995C12.9174 40.1241 11.7203 40.0632 11.1485 39.646C10.5773 39.2291 10.1556 38.1101 10.6534 35.959L10.6534 35.9589L11.9551 30.3306L11.9551 30.3306L11.9562 30.3256C12.1093 29.6424 12.044 28.8747 11.8468 28.186C11.6498 27.4977 11.2987 26.8103 10.8013 26.3129L6.25467 21.7663C5.00935 20.521 4.76954 19.4543 4.99505 18.7481C5.22034 18.0426 6.03275 17.3131 7.77264 17.0231L13.6206 16.0515L13.6232 16.051C14.2562 15.9435 14.9004 15.6239 15.4363 15.2266C15.9711 14.83 16.4674 14.3046 16.7548 13.7195L19.9795 7.27009C19.9796 7.26988 19.9797 7.26968 19.9798 7.26947C20.8055 5.62695 21.7605 5.05703 22.4971 5.05703C23.2323 5.05703 24.1829 5.62543 24.9995 7.26728Z" fill="currentColor" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                <path d="M17.7315 21.6174C18.4192 21.6174 18.9767 21.0599 18.9767 20.3722C18.9767 19.6844 18.4192 19.127 17.7315 19.127C17.0438 19.127 16.4863 19.6844 16.4863 20.3722C16.4863 21.0599 17.0438 21.6174 17.7315 21.6174Z" fill={fill("Fair")} />
                                <path d="M27.1964 21.6174C27.8841 21.6174 28.4416 21.0599 28.4416 20.3722C28.4416 19.6844 27.8841 19.127 27.1964 19.127C26.5087 19.127 25.9512 19.6844 25.9512 20.3722C25.9512 21.0599 26.5087 21.6174 27.1964 21.6174Z" fill={fill("Fair")} />
                                <path d="M17.2451 28.4176C17.4661 28.3607 17.6868 28.3169 17.9077 28.2747C18.1287 28.2324 18.3494 28.1979 18.5704 28.1647C19.012 28.0993 19.4537 28.0504 19.8953 28.0087C20.7789 27.9284 21.6623 27.8911 22.5458 27.8848C23.4294 27.8786 24.3127 27.9067 25.1961 27.9767C25.417 27.9941 25.6377 28.0139 25.8587 28.0384C26.0796 28.0628 26.3003 28.0887 26.5213 28.1181C26.7423 28.1476 26.963 28.1821 27.1839 28.2216C27.4049 28.2611 27.6256 28.3034 27.8465 28.3585C28.0006 28.397 28.1374 28.4859 28.2352 28.6111C28.3329 28.7363 28.386 28.8906 28.386 29.0494C28.386 29.2082 28.3329 29.3625 28.2352 29.4877C28.1374 29.6129 28.0006 29.7018 27.8465 29.7403C27.6256 29.7954 27.4046 29.8385 27.1839 29.8772C26.9632 29.916 26.7423 29.9495 26.5213 29.9807C26.3003 30.0119 26.0796 30.0375 25.8587 30.0604C25.6377 30.0833 25.417 30.1047 25.1961 30.1224C24.3127 30.1921 23.4292 30.2195 22.5458 30.214C21.6625 30.2084 20.7789 30.1707 19.8953 30.0904C19.4537 30.0486 19.012 29.9995 18.5704 29.9344C18.3494 29.9009 18.1284 29.8659 17.9077 29.8241C17.687 29.7824 17.4661 29.7383 17.2451 29.6812C17.1051 29.645 16.981 29.5633 16.8925 29.4489C16.8039 29.3346 16.7559 29.194 16.7559 29.0494C16.7559 28.9048 16.8039 28.7642 16.8925 28.6499C16.981 28.5355 17.1051 28.4538 17.2451 28.4176Z" fill={fill("Fair")} />
                            </svg>
                            <svg width="45" height="45" viewBox="0 0 45 45" fill="none" onClick={() => setExperience("Poor")}
                                onMouseEnter={() => handleMouseEnter("Poor")}
                                onMouseLeave={handleMouseLeave}
                                style={starStyles("Poor")} xmlns="http://www.w3.org/2000/svg">
                                <path d="M24.9995 7.26728L25.0002 7.26869L28.2241 13.7165C28.2246 13.7175 28.2251 13.7186 28.2256 13.7196C28.5131 14.3049 29.0097 14.8306 29.5478 15.2276C30.0873 15.6257 30.7364 15.9445 31.3777 16.0514L31.3781 16.0515L37.226 17.0231C38.9667 17.3132 39.784 18.0433 40.0109 18.7495C40.2374 19.4539 39.9995 20.5193 38.7458 21.7645L38.744 21.7663L34.1973 26.3129C33.7 26.8103 33.3489 27.4977 33.1518 28.186C32.9547 28.8747 32.8894 29.6424 33.0425 30.3256L33.0425 30.3256L33.0436 30.3306L34.3452 35.9584C34.8439 38.1226 34.4244 39.2392 33.8573 39.6526C33.2889 40.067 32.0928 40.1256 30.1775 38.9942L24.6967 35.7497C24.0578 35.3711 23.2614 35.2049 22.5062 35.2049C21.7504 35.2049 20.9523 35.3713 20.3072 35.7467L20.3072 35.7467L20.3023 35.7495L14.8206 38.9946L14.8199 38.995C12.9174 40.1241 11.7203 40.0632 11.1485 39.646C10.5773 39.2291 10.1556 38.1101 10.6534 35.959L10.6534 35.9589L11.9551 30.3306L11.9551 30.3306L11.9562 30.3256C12.1093 29.6424 12.044 28.8747 11.8468 28.186C11.6498 27.4977 11.2987 26.8103 10.8013 26.3129L6.25467 21.7663C5.00935 20.521 4.76954 19.4543 4.99505 18.7481C5.22034 18.0426 6.03275 17.3131 7.77264 17.0231L13.6206 16.0515L13.6232 16.051C14.2562 15.9435 14.9004 15.6239 15.4363 15.2266C15.9711 14.83 16.4674 14.3046 16.7548 13.7195L19.9795 7.27009C19.9796 7.26988 19.9797 7.26968 19.9798 7.26947C20.8055 5.62695 21.7605 5.05703 22.4971 5.05703C23.2323 5.05703 24.1829 5.62543 24.9995 7.26728Z" fill="currentColor" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                <path d="M18.171 21.6174C18.8586 21.6174 19.4161 21.0599 19.4161 20.3722C19.4161 19.6844 18.8586 19.127 18.171 19.127C17.4833 19.127 16.9258 19.6844 16.9258 20.3722C16.9258 21.0599 17.4833 21.6174 18.171 21.6174Z" fill={fill("Poor")} />
                                <path d="M26.8878 21.6174C27.5754 21.6174 28.1329 21.0599 28.1329 20.3722C28.1329 19.6844 27.5754 19.127 26.8878 19.127C26.2001 19.127 25.6426 19.6844 25.6426 20.3722C25.6426 21.0599 26.2001 21.6174 26.8878 21.6174Z" fill={fill("Poor")} />
                                <path d="M17.5223 29.3107C17.5276 29.2875 17.529 29.2787 17.5311 29.2671L17.5371 29.2351L17.548 29.1769C17.5554 29.1391 17.5636 29.1041 17.5712 29.0684C17.5877 28.9989 17.6074 28.931 17.6273 28.864C17.6687 28.7323 17.7174 28.6031 17.7733 28.4769C17.8859 28.2254 18.0241 27.9861 18.1859 27.763C18.5161 27.3131 18.9283 26.9296 19.4009 26.6328C19.6354 26.4864 19.8811 26.359 20.1357 26.2517C20.3863 26.1478 20.6442 26.0625 20.9073 25.9968C21.4163 25.8706 21.9387 25.8064 22.4631 25.8058C22.9806 25.8001 23.497 25.8541 24.0022 25.9666L24.1955 26.013C24.2597 26.0283 24.3239 26.0494 24.3881 26.0675C24.5163 26.1027 24.6431 26.1493 24.7701 26.1947C25.0255 26.2902 25.2728 26.4058 25.5098 26.5405C25.7498 26.6768 25.9777 26.8335 26.1907 27.009C26.404 27.1862 26.5999 27.3832 26.7758 27.5975C26.9512 27.8115 27.1032 28.0436 27.2294 28.2899C27.2931 28.4137 27.3493 28.5414 27.3974 28.6721C27.4206 28.7384 27.4438 28.8058 27.4642 28.8758C27.4742 28.9118 27.4839 28.9454 27.4934 28.9845L27.5071 29.0432L27.5145 29.0756C27.5175 29.0881 27.5189 29.0958 27.5259 29.1204C27.5593 29.2078 27.5749 29.3011 27.5716 29.3947C27.5684 29.4883 27.5464 29.5803 27.5069 29.6653C27.4675 29.7502 27.4114 29.8264 27.3419 29.8893C27.2725 29.9521 27.1912 30.0004 27.1028 30.0313C27.0143 30.0622 26.9206 30.075 26.8272 30.069C26.7337 30.063 26.6424 30.0383 26.5586 29.9963C26.4749 29.9544 26.4004 29.8961 26.3396 29.8249C26.2788 29.7536 26.2329 29.6709 26.2047 29.5816C26.2067 29.5932 26.2033 29.5881 26.2012 29.5879C26.1991 29.5877 26.1961 29.5844 26.1931 29.5821C26.1901 29.5798 26.1815 29.5717 26.1745 29.5647L26.1344 29.5239C26.1059 29.4949 26.0774 29.465 26.047 29.4356C25.9882 29.376 25.9237 29.3178 25.86 29.2613C25.7323 29.1493 25.5971 29.0463 25.4553 28.9528C25.3161 28.8604 25.1711 28.7773 25.0211 28.7038C24.8711 28.6316 24.7172 28.5676 24.5601 28.5121L24.4414 28.4716L24.32 28.4357C24.2806 28.4222 24.2386 28.4125 24.1974 28.4018C24.1561 28.3912 24.1162 28.3786 24.0738 28.3705C23.9897 28.3527 23.9072 28.332 23.8207 28.3181C23.7778 28.3105 23.7361 28.3012 23.6925 28.295L23.562 28.2757C23.2017 28.2261 22.8382 28.2029 22.4745 28.2062C21.7353 28.2097 21.0487 28.31 20.4412 28.5539C20.1347 28.6771 19.8455 28.8396 19.5808 29.0372C19.4444 29.14 19.3147 29.2517 19.1928 29.3714C19.1323 29.4324 19.0711 29.4947 19.0143 29.5587L18.9717 29.6064L18.9309 29.6528L18.8922 29.6973C18.8854 29.7047 18.8797 29.7105 18.8741 29.7163C18.8718 29.719 18.8692 29.7213 18.8662 29.7232C18.8639 29.7232 18.8606 29.7288 18.862 29.7188C18.808 29.8965 18.6856 30.0454 18.5217 30.1327C18.3579 30.2201 18.1661 30.2388 17.9884 30.1847C17.8108 30.1307 17.6619 30.0083 17.5745 29.8444C17.4872 29.6806 17.4685 29.4888 17.5225 29.3111L17.5223 29.3107Z" fill={fill("Poor")} />
                            </svg>
                            <svg width="45" height="45" viewBox="0 0 45 45" fill="none" onClick={() => setExperience("Very Poor")}
                                onMouseEnter={() => handleMouseEnter("Very Poor")}
                                onMouseLeave={handleMouseLeave}
                                style={starStyles("Very Poor")} xmlns="http://www.w3.org/2000/svg">
                                <path d="M24.9995 7.26728L25.0002 7.26869L28.2241 13.7165C28.2246 13.7175 28.2251 13.7186 28.2256 13.7196C28.5131 14.3049 29.0097 14.8306 29.5478 15.2276C30.0873 15.6257 30.7364 15.9445 31.3777 16.0514L31.3781 16.0515L37.226 17.0231C38.9667 17.3132 39.784 18.0433 40.0109 18.7495C40.2374 19.4539 39.9995 20.5193 38.7458 21.7645L38.744 21.7663L34.1973 26.3129C33.7 26.8103 33.3489 27.4977 33.1518 28.186C32.9547 28.8747 32.8894 29.6424 33.0425 30.3256L33.0425 30.3256L33.0436 30.3306L34.3452 35.9584C34.8439 38.1226 34.4244 39.2392 33.8573 39.6526C33.2889 40.067 32.0928 40.1256 30.1775 38.9942L24.6967 35.7497C24.0578 35.3711 23.2614 35.2049 22.5062 35.2049C21.7504 35.2049 20.9523 35.3713 20.3072 35.7467L20.3072 35.7467L20.3023 35.7495L14.8206 38.9946L14.8199 38.995C12.9174 40.1241 11.7203 40.0632 11.1485 39.646C10.5773 39.2291 10.1556 38.1101 10.6534 35.959L10.6534 35.9589L11.9551 30.3306L11.9551 30.3306L11.9562 30.3256C12.1093 29.6424 12.044 28.8747 11.8468 28.186C11.6498 27.4977 11.2987 26.8103 10.8013 26.3129L6.25467 21.7663C5.00935 20.521 4.76954 19.4543 4.99505 18.7481C5.22034 18.0426 6.03275 17.3131 7.77264 17.0231L13.6206 16.0515L13.6232 16.051C14.2562 15.9435 14.9004 15.6239 15.4363 15.2266C15.9711 14.83 16.4674 14.3046 16.7548 13.7195L19.9795 7.27009C19.9796 7.26988 19.9797 7.26968 19.9798 7.26947C20.8055 5.62695 21.7605 5.05703 22.4971 5.05703C23.2323 5.05703 24.1829 5.62543 24.9995 7.26728Z" fill="currentColor" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                                <path d="M18.4978 21.3886C19.1222 21.3886 19.6284 20.8823 19.6284 20.2578C19.6284 19.6332 19.1222 19.127 18.4978 19.127C17.8734 19.127 17.3672 19.6332 17.3672 20.2578C17.3672 20.8823 17.8734 21.3886 18.4978 21.3886Z" fill={fill("Very Poor")} />
                                <path d="M26.4138 21.3886C27.0382 21.3886 27.5444 20.8823 27.5444 20.2578C27.5444 19.6332 27.0382 19.127 26.4138 19.127C25.7894 19.127 25.2832 19.6332 25.2832 20.2578C25.2832 20.8823 25.7894 21.3886 26.4138 21.3886Z" fill={fill("Very Poor")} />
                                <path d="M17.9969 30.215C17.6665 30.2062 17.4727 29.8886 17.4727 29.0331C17.4727 26.192 21.6396 26.1036 22.4495 26.1133C23.2252 26.1026 27.4398 26.1764 27.4398 29.0329C27.4398 29.8621 27.2577 30.186 26.9456 30.2131" fill={fill("Very Poor")} />
                            </svg>



                        </div>

                    </div>
                    <form onSubmit={handleSubmit} className="w-full flex flex-col gap-3 md:max-w-xl">
                        <textarea required value={feedback} onChange={(e) => setFeedback(e.target.value)} className="w-full h-48 p-4 border border-gray-300 bg-[#F6F6F6] rounded-md resize-none" placeholder="Type your feedback"></textarea>
                        <button type="submit" disabled={feedback == ""} className="w-full px-4 py-2 bg-primary text-white disabled:opacity-50 transition-all font-semibold rounded-md">Submit</button>
                    </form>


                </div>



            </div >

            <AnimatePresence>
                {done && (
                    <motion.div
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        exit={{ opacity: 0 }}
                        onClick={() => setDone(false)}
                        className="bg-[rgba(255,255,255,0.5)] backdrop-blur p-8 fixed inset-0 z-50 grid place-items-center overflow-y-scroll cursor-pointer"
                    >
                        <motion.div
                            initial={{ scale: 0, rotate: "12.5deg" }}
                            animate={{ scale: 1, rotate: "0deg" }}
                            exit={{ scale: 0, rotate: "0deg" }}

                            onClick={(e) => e.stopPropagation()}
                            className="w-full lg:max-w-[40rem] bg-[#F8F9FB] border-2 duration-800 flex flex-col items-center justify-center gap-8 h-full p-5 pb-12 max-h-[60vh] relative"
                        >
                            <div className="lg:w-[20rem] lg:h-[30rem]">
                                <img src="/assets/feedback.gif" className="h-full max-w-full object-cover" alt="success" />
                            </div>
                            <h3 className="text-4xl text-primary font-semibold">Thanks</h3>
                            <p className="text-2xl text-[#767177] text-center">Your feedback has been submitted</p>


                        </motion.div>
                    </motion.div>
                )}
            </AnimatePresence>



        </>
    )
}

export default Feedback